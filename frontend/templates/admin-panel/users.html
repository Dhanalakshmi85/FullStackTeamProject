{% extends "layout.html" %}

{% block head %}
<style>
.users-container {
    background-color: #fff0f5; /* very light pink */
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin: 40px auto;
    width: 90%;
    max-width: 800px;
}
.table-users thead {
    background-color: #ff99cc;
    color: #4a004e;
}
.table-users tbody tr {
    background-color: #ffd6ea;
    border-radius: 10px;
    margin-bottom: 10px;
}
.table-users td, .table-users th {
    padding: 15px;
    text-align: center;
}
.action-buttons a {
    margin: 0 5px;
    text-decoration: none;
    color: #4a004e;
    font-weight: bold;
}
.action-buttons a:hover {
    color: #ff3399;
}
</style>
{% endblock %}

{% block content %}
<div class="users-container">
<h1>Users</h1>
<table class="table table-users">
  <thead>
    <tr>
      <th>#</th>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ loop.index }}</td> <!-- numeric ID -->
      <td>{{ user.username or user.name }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.role  }}</td>
      <td class="action-buttons">
        <a href="{{ url_for('admin_bp.edit_user', user_id=user._id) }}">Edit</a> |
        <a href="{{ url_for('admin_bp.delete_user', user_id=user._id) }}" onclick="return confirm('Are you sure you want to delete this user?');">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}